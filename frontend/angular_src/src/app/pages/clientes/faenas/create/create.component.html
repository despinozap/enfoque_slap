<!-- start page title -->
<div class="row">
	<div class="col-12">
			<div class="page-title-box d-flex align-items-center justify-content-between">
					<h4 class="mb-0 font-size-18">Nueva faena</h4>

					<div class="page-title-right">
							<ol class="breadcrumb m-0">
									<li class="breadcrumb-item">Clientes</li>
                  <li class="breadcrumb-item">Faenas</li>
									<li class="breadcrumb-item active">Nueva faena</li>
							</ol>
					</div>

			</div>
	</div>
</div>
<!-- end page title -->

<div class="row">
	<div class="col-12">
		<div class="card">
			<div class="card-body">

				<h4 class="card-title">Nueva faena{{ this.cliente.name !== null ? ' en ' + cliente.name : '' }}</h4>
				<p class="card-title-desc">Completa los siguientes campos para crear una nueva faena en el sistema</p>

				<form [formGroup]="faenaForm" (ngSubmit)="storeFaena()" action="#">
					<div class="row">
						<div class="col-12">
							<div class="form-group">
								<label class="control-label" for="name">Nombre</label>
								<!-- Backend errors -->
								<div class="alert alert-danger" *ngIf="(responseErrors.name)">
									<div *ngFor="let errorMessage of responseErrors.name">{{ errorMessage }}</div>
								</div>
								<input type="text" class="form-control valid-control" name="name" id="name"
									formControlName="name">
								<!-- Frontend errors -->
								<div
									*ngIf="(faenaForm.controls.name.errors) && (faenaForm.controls.name.touched) && (faenaForm.controls.name.dirty)">
									<div class="error-response" *ngIf="faenaForm.controls.name.errors.required === true">
										El nombre es obligatorio
									</div>
									<div class="error-response"
										*ngIf="faenaForm.controls.name.errors.minlength !== null">El nombre debe tener al
										menos 4 caracteres</div>
								</div>
							</div>
						</div>
						<div class="col-12">
							<div class="form-buttons mt-2">
								<button type="submit" class="btn btn-primary mr-2" [disabled]="(faenaForm.invalid) || (loading === true)">
									<span *ngIf="loading === true"><i class="bx bx-loader bx-spin font-size-16 align-middle mr-2"></i>Cargando..</span>
									<span *ngIf="loading === false">Guardar</span>
								</button>
								<button [disabled]="(loading === true)" class="btn btn-light" (click)="goTo_faenasList()">
									<span>Cancelar</span>
								</button>
							</div>
						</div>
					</div>

				</form>

			</div>
		</div>
		<!-- end select2 -->

	</div>
</div>
<!-- end row -->