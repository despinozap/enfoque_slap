<!-- start page title -->
<div class="row">
  <div class="col-12">
    <div class="page-title-box d-flex align-items-center justify-content-between">
      <h4 class="mb-0 font-size-18">Detalle de OC</h4>

      <div class="page-title-right">
        <ol class="breadcrumb m-0">
          <li class="breadcrumb-item">OCs</li>
          <li class="breadcrumb-item active">Detalle</li>
        </ol>
      </div>

    </div>
  </div>
</div>
<!-- end page title -->

<div class="row">

  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">OC {{ oc.id !== null ? "#" + oc.id : '' }}</h4>
        <span class="badge" [class.badge-warning]="(oc.estadooc_id === 1)"
            [class.badge-primary]="(oc.estadooc_id === 2)"
            [class.badge-success]="(oc.estadooc_id === 3)"
            *ngIf="(oc.estadooc_name !== null)">{{ oc.estadooc_name }}</span>
        <p class="card-title-desc">Detalle de la OC</p>
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label class="control-label">Cliente</label>
              <br>
              <label>{{ oc.cliente_name }}</label>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="control-label">Faena</label>
              <br>
              <label>{{ oc.faena_name }}</label>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="control-label">Marca</label>
              <br>
              <label>{{ oc.marca_name }}</label>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label class="control-label">Proveedor</label>
              <br>
              <label>{{ oc.proveedor_name ? oc.proveedor_name : '' }}</label>
            </div>
          </div>
        </div>

        <hr>
        <h4 class="card-title">Lista de partes</h4>
        <p class="card-title-desc">Lista de partes en la OC</p>

        <div class="table-responsive">

          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-hover table-bordered mb-2">
            <thead>
              <tr>
                <th>Cantidad</th>
                <th>NÂ° Parte</th>
                <th>Descripcion</th>
                <th>Dias estado</th>
                <th>Estado</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let parte of partes; index as i">
                <td align="right">{{ parte.cantidad !== null ? parte.cantidad : "" }}</td>
                <td align="left"><i class="bx bx-timer icon-table" *ngIf="(parte.backorder === true)"></i>{{ parte.nparte !== null ? parte.nparte : "" }}</td>
                <td align="right">{{ parte.descripcion !== null ? parte.descripcion : "" }}</td>
                <td align="right">{{ parte.statusdays !== null ? parte.statusdays + " dias" : ""
                  }}</td>
                <td align="right">{{ parte.estadoocparte_name !== null ? parte.estadoocparte_name : "" }}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="row">
          <div class="col-12">
            <div class="form-buttons mt-2">
              <button [disabled]="(loading === true)" class="btn btn-light" (click)="goTo_ocsList()">
                <span>Volver</span>
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
    <!-- end card -->

  </div>

</div>
<!-- end row -->